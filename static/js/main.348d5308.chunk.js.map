{"version":3,"sources":["FlightsTable.js","service.js","Arrivals.js","Departures.js","App.js","index.js"],"names":["FlightsTable","_ref","flightsList","map","flight","localTime","Date","timeArrShedule","timeDepShedule","toTimeString","slice","react_default","a","createElement","className","key","Math","random","term","status","airline","ua","name","codeShareData","icao","fltNo","getData","Object","asyncToGenerator","regenerator_default","mark","_callee","type","currentDate","url","dataPromise","fetchedData","wrap","_context","prev","next","toLocaleDateString","replace","concat","fetch","sent","json","abrupt","body","stop","_x","apply","this","arguments","Arrivals","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","takeData","state","arrival","fetchedArrival","setState","_this$props","currentDay","dateMap","arrivalsData","filter","day","arrivalDate","lookupDate","hasOwnProperty","setDate","getDate","src_FlightsTable","Component","Departures","departure","fetchedDeparture","departuresData","departureDate","App","handleClick","target","currentPage","setCurrentDay","Yesterday","Tomorrow","_this2","_this$state","src","alt","onClick","src_Arrivals","src_Departures","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.348d5308.chunk.js","sourcesContent":["import React from 'react';\n\nconst FlightsTable = ({ flightsList }) => {\n  const arrivalsTable = flightsList.map((flight) => {\n    const localTime = new Date(flight.timeArrShedule || flight.timeDepShedule)\n      .toTimeString()\n      .slice(0, 5);\n    return (\n      <tr className=\"arrivals\" key={Math.random() * 100}>\n        <td>{flight.term}</td>\n        <td>{localTime}</td>\n        <td>{flight['airportFromID.city'] || flight['airportToID.city']}</td>\n        <td>{flight.status}</td>\n        <td>{flight.airline.ua.name}</td>\n        <td>{flight.codeShareData['0'].icao + flight.fltNo}</td>\n      </tr>\n    );\n  });\n\n  return (arrivalsTable);\n};\n\nexport default FlightsTable;\n","export const getData = async(type) => {\n  const currentDate = new Date()\n    .toLocaleDateString('ru-RU')\n    .replace(/[^0-9]/gi, '-');\n  const url = `https://api.iev.aero/api/flights/${currentDate}`;\n  const dataPromise = await fetch(url);\n  const fetchedData = await dataPromise.json();\n\n  return fetchedData.body[type];\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FlightsTable from './FlightsTable';\nimport { getData } from './service';\n\nclass Arrivals extends Component {\n  constructor(props) {\n    super(props);\n    this.takeData();\n    this.state = {\n      arrival: [],\n    };\n  }\n\n  async takeData() {\n    const fetchedArrival = await getData('arrival');\n\n    this.setState({ arrival: fetchedArrival });\n  }\n\n  render() {\n    const { arrival } = this.state;\n    const { currentDay, dateMap } = this.props;\n    const arrivalsData = arrival.filter((flight) => {\n      const arrivalDate = new Date(flight.timeArrShedule)\n        .toLocaleDateString('ru-RU');\n      const lookupDate = new Date();\n\n      const currentDayCheck = (day) => {\n        if (dateMap.hasOwnProperty(day)) {\n          lookupDate.setDate(lookupDate.getDate() + dateMap[day]);\n        }\n      };\n      currentDayCheck(currentDay);\n\n      return (\n        arrivalDate.slice(0, 5)\n        === lookupDate.toLocaleDateString('ru-Ru').slice(0, 5)\n      );\n    });\n    return (\n      <FlightsTable\n        flightsList={arrivalsData}\n      />\n    );\n  }\n}\n\nArrivals.propTypes = {\n  currentDay: PropTypes.string.isRequired,\n  dateMap: PropTypes.object.isRequired,\n};\n\nexport default Arrivals;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FlightsTable from './FlightsTable';\nimport { getData } from './service';\n\nclass Departures extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      departure: [],\n    };\n    this.takeData();\n  }\n\n  async takeData() {\n    const fetchedDeparture = await getData('departure');\n\n    this.setState({ departure: fetchedDeparture });\n  }\n\n  render() {\n    const { departure } = this.state;\n    const { currentDay, dateMap } = this.props;\n    const departuresData = departure.filter((flight) => {\n      const departureDate = new Date(\n        flight.timeDepShedule\n      ).toLocaleDateString('ru-RU');\n      const lookupDate = new Date();\n\n      const currentDayCheck = (day) => {\n        if (dateMap.hasOwnProperty(day)) {\n          lookupDate.setDate(lookupDate.getDate() + dateMap[day]);\n        }\n      };\n      currentDayCheck(currentDay);\n\n      return (\n        departureDate.slice(0, 5)\n        === lookupDate.toLocaleDateString('ru-Ru').slice(0, 5)\n      );\n    });\n\n    return <FlightsTable flightsList={departuresData} />;\n  }\n}\n\nDepartures.propTypes = {\n  currentDay: PropTypes.string.isRequired,\n  dateMap: PropTypes.object.isRequired,\n};\n\nexport default Departures;\n","import React, { Component } from 'react';\nimport './App.css';\nimport Arrivals from './Arrivals';\nimport Departures from './Departures';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      currentPage: 'Arrivals',\n      currentDay: 'Today',\n      dateMap : {\n        'Yesterday': -1,\n        'Tomorrow': +1\n      },\n    };\n  }\n\n  handleClick = (target) => {\n    this.setState({ currentPage: target });\n  }\n\n  setCurrentDay = (day) => {\n    this.setState({ currentDay: day})\n  }\n\n  render() {\n    const { currentDay, currentPage, dateMap} = this.state;\n    return (\n      <div className=\"App\">\n        <div className=\"typeContainer\">\n          <img\n            src=\"https://bit.ly/2YB0YpL\"\n            alt=\"departures\"\n            className=\"departureImg\"\n          />\n          <button\n            onClick={() => this.handleClick('Departures')}\n            className=\"typeButton\"\n            type=\"submit\"\n          >\n            Departures\n          </button>\n          <button\n            onClick={() => this.handleClick('Arrivals')}\n            className=\"typeButton\"\n            type=\"submit\"\n          >\n            Arrivals\n          </button>\n          <img\n            src=\"https://bit.ly/2xrC5Ri\"\n            alt=\"arrivals\"\n            className=\"arrivalImg\"\n          />\n        </div>\n        <div className=\"pickADate\">\n          <button\n            type=\"submit\"\n            onClick={() => this.setCurrentDay('Yesterday')}\n            className=\"dateButton\"\n          >\n            Yesterday\n          </button>\n          <button\n            type=\"submit\"\n            onClick={() => this.setCurrentDay('Today')}\n            className=\"dateButton\"\n          >\n            Today\n          </button>\n          <button\n            type=\"submit\"\n            onClick={() => this.setCurrentDay('Tomorrow')}\n            className=\"dateButton\"\n          >\n            Tomorrow\n          </button>\n        </div>\n        <h3>{`${currentPage} for ${currentDay}`}</h3>\n        <table className=\"AppTable\">\n          <thead className=\"tableHead\">\n            <tr>\n              <th>Terminal</th>\n              <th>Local Time</th>\n              <th>Destination</th>\n              <th>Status</th>\n              <th>Airline</th>\n              <th>Flight</th>\n            </tr>\n          </thead>\n          <tbody>\n            {currentPage === 'Arrivals' ? (\n              <Arrivals\n                currentDay={currentDay}\n                dateMap={dateMap}\n              />\n            ) : (\n                <Departures\n                  currentDay={currentDay}\n                  dateMap={dateMap}\n                />\n            )}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}