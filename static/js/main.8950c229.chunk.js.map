{"version":3,"sources":["FlightsTable.js","service.js","helper.js","Arrivals.js","Departures.js","App.js","index.js"],"names":["FlightsTable","_ref","flightsList","flightTimeType","pageType","map","flight","localTime","Date","toTimeString","slice","react_default","a","createElement","className","key","fltNo","status","term","airline","ua","name","codeShareData","icao","getData","Object","asyncToGenerator","regenerator_default","mark","_callee","type","currentDate","url","dataPromise","fetchedData","wrap","_context","prev","next","toLocaleDateString","replace","concat","fetch","sent","json","abrupt","body","stop","_x","apply","this","arguments","flightsData","flights","day","filter","checkMap","checkDay","flightDate","timeDepShedule","timeToStand","lookupDate","prototype","hasOwnProperty","call","setDate","getDate","Arrivals","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","takeData","state","arrival","fetchedArrival","setState","_this$props","currentDay","dateMap","arrivalsData","src_FlightsTable","Component","Departures","departure","fetchedDeparture","departuresData","TYPE_ARRIVALS","TODAY","App","handleClick","target","currentPage","setCurrentDay","Yesterday","Tomorrow","_this2","_this$state","src","alt","onClick","src_Arrivals","src_Departures","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.8950c229.chunk.js","sourcesContent":["import React from 'react';\n\nconst FlightsTable = ({ flightsList, pageType }) => {\n  const flightTimeType = pageType === 'Arrivals'\n    ? 'timeToStand'\n    : 'timeDepShedule';\n  const arrivalsTable = flightsList.map((flight) => {\n    const localTime = new Date(flight[flightTimeType])\n      .toTimeString()\n      .slice(0, 5);\n    return (\n      <tr className=\"arrivals\" key={flight.fltNo + flight.status}>\n        <td>{flight.term}</td>\n        <td>{localTime}</td>\n        <td>{flight['airportFromID.city'] || flight['airportToID.city']}</td>\n        <td>{flight.status}</td>\n        <td>{flight.airline.ua.name}</td>\n        <td>{flight.codeShareData['0'].icao + flight.fltNo}</td>\n      </tr>\n    );\n  });\n\n  return (arrivalsTable);\n};\n\nexport default FlightsTable;\n","const getData = async(type) => {\n  const currentDate = new Date()\n    .toLocaleDateString('ru-RU')\n    .replace(/\\./g, '-');\n  const url = `https://api.iev.aero/api/flights/${currentDate}`;\n  const dataPromise = await fetch(url);\n  const fetchedData = await dataPromise.json();\n\n  return fetchedData.body[type];\n};\n\nexport default getData;\n","\nconst flightsData = (flights, map, day) => {\n  const data = flights.filter((flight) => {\n    const flightDate = new Date(flight.timeDepShedule || flight.timeToStand)\n      .toLocaleDateString('ru-RU');\n    const lookupDate = new Date();\n    const currentDayCheck = (checkMap, checkDay) => {\n      if (Object.prototype.hasOwnProperty.call(checkMap, checkDay)) {\n        lookupDate.setDate(lookupDate.getDate() + checkMap[checkDay]);\n      }\n    };\n\n    currentDayCheck(map, day);\n\n    return flightDate.slice(0, 2)\n      === lookupDate.toLocaleDateString('ru-Ru').slice(0, 2);\n  });\n  return data;\n};\n\nexport default flightsData;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FlightsTable from './FlightsTable';\nimport getData from './service';\nimport flightsData from './helper';\n\nclass Arrivals extends Component {\n  constructor(props) {\n    super(props);\n    this.takeData();\n    this.state = {\n      arrival: [],\n    };\n  }\n\n  async takeData() {\n    const fetchedArrival = await getData('arrival');\n\n    this.setState({ arrival: fetchedArrival });\n  }\n\n  render() {\n    const { arrival } = this.state;\n    const { currentDay, dateMap, type } = this.props;\n    const arrivalsData = flightsData(arrival, dateMap, currentDay);\n\n    return <FlightsTable flightsList={arrivalsData} pageType={type} />;\n  }\n}\n\nArrivals.propTypes = {\n  currentDay: PropTypes.string.isRequired,\n  dateMap: PropTypes.objectOf(PropTypes.number).isRequired,\n  type: PropTypes.string.isRequired,\n};\n\nexport default Arrivals;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FlightsTable from './FlightsTable';\nimport getData from './service';\nimport flightsData from './helper';\n\nclass Departures extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      departure: [],\n    };\n    this.takeData();\n  }\n\n  async takeData() {\n    const fetchedDeparture = await getData('departure');\n\n    this.setState({ departure: fetchedDeparture });\n  }\n\n  render() {\n    const { departure } = this.state;\n    const { currentDay, dateMap, type } = this.props;\n    const departuresData = flightsData(departure, dateMap, currentDay);\n\n    return <FlightsTable flightsList={departuresData} pageType={type} />;\n  }\n}\n\nDepartures.propTypes = {\n  currentDay: PropTypes.string.isRequired,\n  dateMap: PropTypes.objectOf(PropTypes.number).isRequired,\n  type: PropTypes.string.isRequired,\n};\n\nexport default Departures;\n","import React, { Component } from 'react';\nimport './App.css';\nimport Arrivals from './Arrivals';\nimport Departures from './Departures';\n\n\nconst TYPE_DEPARTURES = 'Departures'\nconst TYPE_ARRIVALS = 'Arrivals'\nconst YESTERDAY = 'Yesterday'\nconst TODAY = 'Today'\nconst TOMORROW = 'Tomorrow'\n\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      currentPage: TYPE_ARRIVALS,\n      currentDay: TODAY,\n      dateMap : {\n        'Yesterday': -1,\n        'Tomorrow': +1\n      },\n    };\n  }\n\n  handleClick = (target) => {\n    this.setState({ currentPage: target });\n  }\n\n  setCurrentDay = (day) => {\n    this.setState({ currentDay: day})\n  }\n\n  render() {\n    const { currentDay, currentPage, dateMap} = this.state;\n    return (\n      <div className=\"App\">\n        <div className=\"typeContainer\">\n          <img\n            src=\"https://bit.ly/2YB0YpL\"\n            alt=\"departures\"\n            className=\"departure-bg-img\"\n          />\n          <button\n            onClick={() => this.handleClick(TYPE_DEPARTURES)}\n            className=\"typeButton\"\n            type=\"submit\"\n          >\n            Departures\n          </button>\n          <button\n            onClick={() => this.handleClick(TYPE_ARRIVALS)}\n            className=\"typeButton\"\n            type=\"submit\"\n          >\n            Arrivals\n          </button>\n          <img\n            src=\"https://bit.ly/2xrC5Ri\"\n            alt=\"arrivals\"\n            className=\"arrival-bg-img\"\n          />\n        </div>\n        <div className=\"pickADate\">\n          <button\n            type=\"submit\"\n            onClick={() => this.setCurrentDay(YESTERDAY)}\n            className=\"dateButton\"\n          >\n            Yesterday\n          </button>\n          <button\n            type=\"submit\"\n            onClick={() => this.setCurrentDay(TODAY)}\n            className=\"dateButton\"\n          >\n            Today\n          </button>\n          <button\n            type=\"submit\"\n            onClick={() => this.setCurrentDay(TOMORROW)}\n            className=\"dateButton\"\n          >\n            Tomorrow\n          </button>\n        </div>\n        <h3>{`${currentPage} for ${currentDay}`}</h3>\n        <table className=\"AppTable\">\n          <thead className=\"tableHead\">\n            <tr>\n              <th>Terminal</th>\n              <th>Local Time</th>\n              <th>Destination</th>\n              <th>Status</th>\n              <th>Airline</th>\n              <th>Flight</th>\n            </tr>\n          </thead>\n          <tbody>\n            {currentPage === TYPE_ARRIVALS ? (\n              <Arrivals\n                currentDay={currentDay}\n                dateMap={dateMap}\n                type={TYPE_ARRIVALS}\n              />\n            ) : (\n                <Departures\n                  currentDay={currentDay}\n                  dateMap={dateMap}\n                  type={TYPE_DEPARTURES}\n                />\n            )}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}