{"version":3,"sources":["Arrivals.js","Departures.js","App.js","index.js"],"names":["Arrivals","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getData","state","arrivals","currentDate","Date","toLocaleDateString","replace","url","fetch","dataPromise","json","fetchedData","setState","toConsumableArray","body","arrival","currentDay","filter","flight","arrivalDate","timeArrShedule","lookupDate","setDate","getDate","slice","map","localTime","toTimeString","match","react_default","a","createElement","className","term","status","airline","ua","name","codeShareData","icao","fltNo","Component","defaultProps","Departures","departure","stringCurrentDate","departureDate","timeDepShedule","App","currentPage","eventClick","persist","target","textContent","_this2","_this$state","src","alt","onClick","handleClick","type","concat","src_Arrivals","src_Departures","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.b724ab22.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Arrivals extends Component {\n  constructor(props) {\n    super(props);\n    this.getData();\n    this.state = {\n      arrivals: [],\n    };\n  }\n\n  async getData() {\n    const currentDate = new Date()\n      .toLocaleDateString('ru-RU')\n      .replace(/[^0-9]/gi, '-');\n    const url = `https://api.iev.aero/api/flights/${currentDate}`;\n    const dataPromise = await fetch(url);\n    const fetchedData = await dataPromise.json();\n    this.setState({\n      arrivals: [...fetchedData.body.arrival],\n    });\n  }\n\n  render() {\n    const { arrivals } = this.state;\n    const { currentDay } = this.props;\n    const arrivalsData = [...arrivals]\n      .filter((flight) => {\n        const arrivalDate = new Date(flight.timeArrShedule).toLocaleDateString(\n          'ru-RU'\n        );\n        const lookupDate = new Date();\n        if (currentDay === 'Yesterday') {\n          lookupDate.setDate(lookupDate.getDate() - 1);\n\n          return (\n            arrivalDate.slice(0, 5)\n            === lookupDate.toLocaleDateString('ru-Ru').slice(0, 5)\n          );\n        }\n        if (currentDay === 'Today') {\n          return (\n            arrivalDate.slice(0, 5)\n            === lookupDate.toLocaleDateString('ru-Ru').slice(0, 5)\n          );\n        }\n        if (currentDay === 'Tomorrow') {\n          lookupDate.setDate(lookupDate.getDate() + 1);\n\n          return (\n            arrivalDate.slice(0, 5)\n            === lookupDate.toLocaleDateString('ru-Ru').slice(0, 5)\n          );\n        }\n\n        return flight;\n      })\n      .map((flight) => {\n        const localTime = new Date(flight.timeArrShedule)\n          .toTimeString()\n          .match(/\\b[0-1][0-9]:[0-5][0-9]\\b|\\b2[0-3]:[0-5][0-9]\\b/);\n        return (\n          <tr className=\"arrivals\">\n            <td>{flight.term}</td>\n            <td>{localTime}</td>\n            <td>{flight['airportFromID.city']}</td>\n            <td>{flight.status}</td>\n            <td>{flight.airline.ua.name}</td>\n            <td>{flight.codeShareData['0'].icao + flight.fltNo}</td>\n          </tr>\n        );\n      });\n    return arrivalsData;\n  }\n}\n\nArrivals.propTypes = {\n  currentDay: PropTypes.string,\n};\n\nArrivals.defaultProps = {\n  currentDay: 'Today',\n};\n\nexport default Arrivals;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Departures extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      departure: [],\n    };\n    this.getData();\n  }\n\n  async getData() {\n    const stringCurrentDate = new Date()\n      .toLocaleDateString('ru-RU')\n      .replace(/[^0-9]/gi, '-');\n    const url = `https://api.iev.aero/api/flights/${stringCurrentDate}`;\n    const dataPromise = await fetch(url);\n    const fetchedData = await dataPromise.json();\n    this.setState({\n      departure: [...fetchedData.body.departure],\n    });\n  }\n\n  render() {\n    const { departure } = this.state;\n    const { currentDay } = this.props;\n    const departuresData = [...departure]\n      .filter((flight) => {\n        const departureDate = new Date(\n          flight.timeDepShedule\n        ).toLocaleDateString('ru-RU');\n        const lookupDate = new Date();\n        if (currentDay === 'Yesterday') {\n          lookupDate.setDate(lookupDate.getDate() - 1);\n\n          return (\n            departureDate.slice(0, 5)\n            === lookupDate.toLocaleDateString('ru-Ru').slice(0, 5)\n          );\n        }\n        if (currentDay === 'Today') {\n          return (\n            departureDate.slice(0, 5)\n            === lookupDate.toLocaleDateString('ru-Ru').slice(0, 5)\n          );\n        }\n        if (currentDay === 'Tomorrow') {\n          lookupDate.setDate(lookupDate.getDate() + 1);\n\n          return (\n            departureDate.slice(0, 5)\n            === lookupDate.toLocaleDateString('ru-Ru').slice(0, 5)\n          );\n        }\n\n        return flight;\n      })\n      .map((flight) => {\n        const localTime = new Date(flight.timeDepShedule)\n          .toTimeString()\n          .match(/\\b[0-1][0-9]:[0-5][0-9]\\b|\\b2[0-3]:[0-5][0-9]\\b/);\n\n        return (\n          <tr className=\"departures\">\n            <td>{flight.term}</td>\n            <td>{localTime}</td>\n            <td>{flight['airportToID.city']}</td>\n            <td>{flight.status}</td>\n            <td>{flight.airline.ua.name}</td>\n            <td>{flight.codeShareData['0'].icao + flight.fltNo}</td>\n          </tr>\n        );\n      });\n\n    return departuresData;\n  }\n}\n\nDepartures.propTypes = {\n  currentDay: PropTypes.string,\n};\n\nDepartures.defaultProps = {\n  currentDay: 'Today',\n};\n\nexport default Departures;\n","import React, { Component } from 'react';\nimport './App.css';\nimport Arrivals from './Arrivals';\nimport Departures from './Departures';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      currentPage: 'Arrivals',\n      currentDay: 'Today',\n    };\n  }\n\n  handleClick(eventClick) {\n    eventClick.persist();\n    this.setState({ currentPage: eventClick.target.textContent });\n  }\n\n  render() {\n    const { currentDay, currentPage } = this.state;\n    return (\n      <div className=\"App\">\n        <div className=\"typeContainer\">\n          <img\n            src=\"https://bit.ly/2YB0YpL\"\n            alt=\"departures\"\n            className=\"departureImg\"\n          />\n          <button\n            onClick={eventClick => this.handleClick(eventClick)}\n            className=\"typeButton\"\n            type=\"submit\"\n          >\n            Departures\n          </button>\n          <button\n            onClick={eventClick => this.handleClick(eventClick)}\n            className=\"typeButton\"\n            type=\"submit\"\n          >\n            Arrivals\n          </button>\n          <img\n            src=\"https://bit.ly/2xrC5Ri\"\n            alt=\"arrivals\"\n            className=\"arrivalImg\"\n          />\n        </div>\n        <div className=\"pickADate\">\n          <button\n            type=\"submit\"\n            onClick={() => this.setState({ currentDay: 'Yesterday' })}\n            className=\"dateButton\"\n          >\n            Yesterday\n          </button>\n          <button\n            type=\"submit\"\n            onClick={() => this.setState({ currentDay: 'Today' })}\n            className=\"dateButton\"\n          >\n            Today\n          </button>\n          <button\n            type=\"submit\"\n            onClick={() => this.setState({ currentDay: 'Tomorrow' })}\n            className=\"dateButton\"\n          >\n            Tomorrow\n          </button>\n        </div>\n        <h3>{`${currentPage} for ${currentDay}`}</h3>\n        <table className=\"AppTable\">\n          <thead className=\"tableHead\">\n            <tr>\n              <th>Terminal</th>\n              <th>Local Time</th>\n              <th>Destination</th>\n              <th>Status</th>\n              <th>Airline</th>\n              <th>Flight</th>\n            </tr>\n          </thead>\n          <tbody>\n            {currentPage === 'Arrivals' ? (\n              <Arrivals currentDay={currentDay} />\n            ) : (\n              <Departures currentDay={currentDay} />\n            )}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}