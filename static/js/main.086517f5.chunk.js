(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,a){t.exports=a(19)},16:function(t,e,a){},17:function(t,e,a){},19:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(9),u=a.n(c),l=(a(16),a(2)),s=a(3),i=a(6),o=a(4),m=a(7),p=(a(17),a(1)),h=a.n(p),f=a(5),y=function(t){var e=t.flightsList,a="arrival"===t.pageType?"timeToStand":"timeDepShedule";return e.map(function(t){var e=new Date(t[a]).toTimeString().slice(0,5);return r.a.createElement("tr",{className:"flights",key:t.fltNo+t.status},r.a.createElement("td",null,t.term),r.a.createElement("td",null,e),r.a.createElement("td",null,t["airportFromID.city"]||t["airportToID.city"]),r.a.createElement("td",null,t.status),r.a.createElement("td",null,t.airline.ua.name),r.a.createElement("td",null,t.codeShareData[0].icao+t.fltNo))})},d={Yesterday:-1,Today:0,Tomorrow:1},D=function(t,e){return t.filter(function(t){var a,n,r=new Date(t.timeDepShedule||t.timeToStand),c=new Date;return a=d,n=e,c.setDate(c.getDate()+a[n]),r.getDate()===c.getDate()})},b=function(){var t=Object(f.a)(h.a.mark(function t(){var e,a,n,r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=(new Date).toLocaleDateString("ru-RU").replace(/\./g,"-"),a="https://api.iev.aero/api/flights/".concat(e),t.next=4,fetch(a);case 4:return n=t.sent,t.next=7,n.json();case 7:return r=t.sent,t.abrupt("return",r.body);case 9:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),g=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(i.a)(this,Object(o.a)(e).call(this,t))).state={flights:[],currentFlightsData:[]},a}return Object(m.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.currentDay,n=e.type;a===t.currentDay&&n===t.type||this.setState(function(t){return{currentFlightsData:D(t.flights[n],a)}})}},{key:"fetchData",value:function(){var t=Object(f.a)(h.a.mark(function t(){var e,a,n,r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props,a=e.currentDay,n=e.type,t.next=3,b();case 3:r=t.sent,this.setState({flights:r,currentFlightsData:D(r[n],a)});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props.type,e=this.state.currentFlightsData;return r.a.createElement(y,{flightsList:e,pageType:t})}}]),e}(n.Component),E="arrival",v="Today",w=function(t){function e(){var t;return Object(l.a)(this,e),(t=Object(i.a)(this,Object(o.a)(e).call(this))).setCurrentPage=function(e){t.setState({currentPage:e})},t.setCurrentDay=function(e){t.setState({currentDay:e})},t.state={currentPage:E,currentDay:v},t}return Object(m.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this,e=this.state,a=e.currentDay,n=e.currentPage;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"typeContainer"},r.a.createElement("img",{src:"https://bit.ly/2YB0YpL",alt:"departures",className:"departure-bg-img"}),r.a.createElement("button",{onClick:function(){return t.setCurrentPage("departure")},className:"typeButton",type:"button"},"Departures"),r.a.createElement("button",{onClick:function(){return t.setCurrentPage(E)},className:"typeButton",type:"button"},"Arrivals"),r.a.createElement("img",{src:"https://bit.ly/2xrC5Ri",alt:"arrivals",className:"arrival-bg-img"})),r.a.createElement("div",{className:"pickADate"},r.a.createElement("button",{type:"button",onClick:function(){return t.setCurrentDay("Yesterday")},className:"dateButton"},"Yesterday"),r.a.createElement("button",{type:"button",onClick:function(){return t.setCurrentDay(v)},className:"dateButton"},"Today"),r.a.createElement("button",{type:"button",onClick:function(){return t.setCurrentDay("Tomorrow")},className:"dateButton"},"Tomorrow")),r.a.createElement("h3",null,"".concat(n,"s for ").concat(a)),r.a.createElement("table",{className:"AppTable"},r.a.createElement("thead",{className:"tableHead"},r.a.createElement("tr",null,r.a.createElement("th",null,"Terminal"),r.a.createElement("th",null,"Local Time"),r.a.createElement("th",null,"Destination"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Airline"),r.a.createElement("th",null,"Flight"))),r.a.createElement("tbody",null,r.a.createElement(g,{currentDay:a,type:n}))))}}]),e}(n.Component);u.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.086517f5.chunk.js.map