(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,a){t.exports=a(19)},16:function(t,e,a){},18:function(t,e,a){},19:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),c=a(9),u=a.n(c),s=(a(16),a(1)),i=a.n(s),l=a(2),o=a(3),p=a(4),m=a(6),d=a(5),h=a(7),f=(a(18),function(t){var e=t.flightsList,a="Arrivals"===t.pageType?"timeToStand":"timeDepShedule";return e.map(function(t){var e=new Date(t[a]).toTimeString().slice(0,5);return n.a.createElement("tr",{className:"flights",key:t.fltNo+t.status},n.a.createElement("td",null,t.term),n.a.createElement("td",null,e),n.a.createElement("td",null,t["airportFromID.city"]||t["airportToID.city"]),n.a.createElement("td",null,t.status),n.a.createElement("td",null,t.airline.ua.name),n.a.createElement("td",null,t.codeShareData[0].icao+t.fltNo))})}),y=function(t,e,a){return t.filter(function(t){var r,n,c=new Date(t.timeDepShedule||t.timeToStand),u=new Date;return r=e,n=a,u.setDate(u.getDate()+r[n]),c.getDate()===u.getDate()})},D=function(){var t=Object(l.a)(i.a.mark(function t(){var e,a,r,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=(new Date).toLocaleDateString("ru-RU").replace(/\./g,"-"),a="https://api.iev.aero/api/flights/".concat(e),t.next=4,fetch(a);case 4:return r=t.sent,t.next=7,r.json();case 7:return n=t.sent,t.abrupt("return",n.body);case 9:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),v=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).state={arrival:[],arrivalsData:[]},a}return Object(h.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){this.takeData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.currentDay,r=e.dateMap;a!==t.currentDay&&this.setState(function(t){return{arrivalsData:y(t.arrival,r,a)}})}},{key:"takeData",value:function(){var t=Object(l.a)(i.a.mark(function t(){var e,a,r,n,c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D();case 2:e=t.sent,a=e.arrival,r=this.props,n=r.currentDay,c=r.dateMap,this.setState({arrival:a,arrivalsData:y(a,c,n)});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props.type,e=this.state.arrivalsData;return n.a.createElement(f,{flightsList:e,pageType:t})}}]),e}(r.Component),b=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).state={departure:[],departuresData:[]},a}return Object(h.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){this.takeData()}},{key:"componentDidUpdate",value:function(t){var e=this.props,a=e.currentDay,r=e.dateMap;a!==t.currentDay&&this.setState(function(t){return{departuresData:y(t.departure,r,a)}})}},{key:"takeData",value:function(){var t=Object(l.a)(i.a.mark(function t(){var e,a,r,n,c;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D();case 2:e=t.sent,a=e.departure,r=this.props,n=r.currentDay,c=r.dateMap,this.setState({departure:a,departuresData:y(a,c,n)});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props.type,e=this.state.departuresData;return n.a.createElement(f,{flightsList:e,pageType:t})}}]),e}(r.Component),E="Arrivals",g="Today",k=function(t){function e(){var t;return Object(o.a)(this,e),(t=Object(m.a)(this,Object(d.a)(e).call(this))).setCurrentPage=function(e){t.setState({currentPage:e})},t.setCurrentDay=function(e){t.setState({currentDay:e})},t.state={currentPage:E,currentDay:g,dateMap:{Yesterday:-1,Today:0,Tomorrow:1},allFlights:[]},t}return Object(h.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){this.takeData()}},{key:"takeData",value:function(){var t=Object(l.a)(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D();case 2:e=t.sent,this.setState({allFlights:e});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state,a=e.currentDay,r=e.currentPage,c=e.dateMap;return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"typeContainer"},n.a.createElement("img",{src:"https://bit.ly/2YB0YpL",alt:"departures",className:"departure-bg-img"}),n.a.createElement("button",{onClick:function(){return t.setCurrentPage("Departures")},className:"typeButton",type:"submit"},"Departures"),n.a.createElement("button",{onClick:function(){return t.setCurrentPage(E)},className:"typeButton",type:"submit"},"Arrivals"),n.a.createElement("img",{src:"https://bit.ly/2xrC5Ri",alt:"arrivals",className:"arrival-bg-img"})),n.a.createElement("div",{className:"pickADate"},n.a.createElement("button",{type:"submit",onClick:function(){return t.setCurrentDay("Yesterday")},className:"dateButton"},"Yesterday"),n.a.createElement("button",{type:"submit",onClick:function(){return t.setCurrentDay(g)},className:"dateButton"},"Today"),n.a.createElement("button",{type:"submit",onClick:function(){return t.setCurrentDay("Tomorrow")},className:"dateButton"},"Tomorrow")),n.a.createElement("h3",null,"".concat(r," for ").concat(a)),n.a.createElement("table",{className:"AppTable"},n.a.createElement("thead",{className:"tableHead"},n.a.createElement("tr",null,n.a.createElement("th",null,"Terminal"),n.a.createElement("th",null,"Local Time"),n.a.createElement("th",null,"Destination"),n.a.createElement("th",null,"Status"),n.a.createElement("th",null,"Airline"),n.a.createElement("th",null,"Flight"))),n.a.createElement("tbody",null,r===E?n.a.createElement(v,{currentDay:a,dateMap:c,type:E}):n.a.createElement(b,{currentDay:a,dateMap:c,type:"Departures"}))))}}]),e}(r.Component);u.a.render(n.a.createElement(k,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.3187324f.chunk.js.map